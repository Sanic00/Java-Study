package com.DBex;

import java.sql.*;

public class jdbcEx07 {

	public static void main(String[] args) {
	
	StringBuffer sql = new StringBuffer();
	 
	sql.append("select a.name, a.profno, a.position, b.dname"); 
	sql.append("from professor a, department b"); 
	sql.append("where a.deptno = b.deptno ");
	sql.append("and a.deptno=?");
	Connection con = null;
	PreparedStatement pstmt = null; // 동적 객체 선언
	ResultSet rs = null;
	 
	try {
		  // 데이터베이스 연결
		  con = ConnUtil.getConnection();
//		  System.out.println("데이터 베이스 연결 성공 @");
		  pstmt = con.prepareStatement(sql.toString());
		  
		  
		  
		  pstmt.setInt(1, 203);
		  
		 
		  //쿼리 실행
		  rs = pstmt.executeQuery();
		  //결과 집합에서 값 추출하기 
		  while(rs.next()) {
			  
		  }
		  
		  
		  
	}catch (SQLException ss) {
	  ss.printStackTrace();
	}finally {
		try {if(pstmt !=null)pstmt.close();}catch(SQLException s) {}
		try {if(con !=null)con.close();}catch(SQLException s) {}
	}


}
}
